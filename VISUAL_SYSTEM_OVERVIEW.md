# Leave Management System - Visual Overview

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     HRMS APPLICATION                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              FRONTEND (React + Vite)                  â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚         LeaveRequestPage.jsx                â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Balance Validation                       â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Date Calculation                         â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Toast Error Notifications               â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Submit Leave Request                     â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                        â†“                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚       EmployeeDashboard.jsx                 â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Balance Display (Casual/Sick/Earned)    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Recent Leave History                     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… "Approved By" Column                    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Status Color Coding                      â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                        â†“                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚        AdminDashboard.jsx                   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Pending Leaves List                      â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Approve Button                           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Reject Button + Reason Modal            â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Real-time Refresh                        â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                        â†“                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚      Toast Container (Global)               â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Success Notifications                    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Error Notifications                      â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Auto-dismiss (5s)                        â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                        â†• REST API                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚             BACKEND (Spring Boot)                     â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚     LeaveController (9 Endpoints)           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  GET  /api/leaves                           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  GET  /api/leaves/{id}                      â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  GET  /api/leaves/employee/{empId}         â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  POST /api/leaves                           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  POST /api/leaves/{id}/approve              â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  POST /api/leaves/{id}/reject               â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  GET  /api/leaves/balance/{empId}          â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                        â†“                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚     LeaveService + LeaveBalanceService      â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Balance Validation                       â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Create Leave (PENDING)                  â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Approve & Deduct Balance                â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Reject & Keep Balance                   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Convert to DTO                           â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                        â†“                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚   Repositories & Models                     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… Leave Entity                             â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… LeaveBalance Entity                      â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… LeaveType Enum                           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  âœ… LeaveStatus Enum                         â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                        â†• JDBC                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            DATABASE (MySQL)                           â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚         leaves Table                        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  id, employee_id, start_date, end_date     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  leave_type, status, approved_by_id        â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  submitted_at, reviewed_at                 â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚      leave_balances Table                   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  employee_id, casual_total, casual_used    â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  sick_total, sick_used                      â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  earned_total, earned_used                  â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagrams

### Leave Submission Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 LEAVE SUBMISSION PROCESS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Employee Dashboard
       â†“
   Click "Request Leave"
       â†“
LeaveRequestPage Opens
       â†“
   Fetch Leave Balance (GET /api/leaves/balance/{empId})
       â†“
   Display Balance Cards:
   â”œâ”€ Casual: 10 remaining
   â”œâ”€ Sick: 6 remaining
   â””â”€ Earned: 12 remaining
       â†“
Employee Fills Form:
   â”œâ”€ Leave Type: CASUAL
   â”œâ”€ Dates: 2025-04-01 to 2025-04-03 (3 days)
   â”œâ”€ Reason: Personal
   â””â”€ Submit Button
       â†“
Frontend Validation:
   â”œâ”€ All fields filled? âœ…
   â”œâ”€ Start date before end date? âœ…
   â”œâ”€ Days calculated: 3
   â”œâ”€ Available casual leaves: 10
   â””â”€ 3 <= 10? âœ… PROCEED
       â†“
   POST /api/leaves
   Body: {
     employeeId: 1,
     startDate: "2025-04-01",
     endDate: "2025-04-03",
     leaveType: "CASUAL",
     reason: "Personal"
   }
       â†“
Backend Processing:
   â”œâ”€ Find employee: âœ… Found
   â”œâ”€ Get balance: Casual = 10
   â”œâ”€ Days: 3
   â”œâ”€ Validation: 3 <= 10? âœ…
   â”œâ”€ Create Leave (PENDING):
   â”‚  â”œâ”€ status = PENDING
   â”‚  â”œâ”€ approvedBy = null
   â”‚  â”œâ”€ reviewedAt = null
   â”‚  â””â”€ submittedAt = NOW
   â””â”€ Save to Database
       â†“
Response:
   LeaveDTO {
     id: 5,
     status: "PENDING",
     approvedBy: null,
     ...
   }
       â†“
Frontend Toast:
   âœ… "Leave request submitted successfully!"
       â†“
Update Dashboard:
   â”œâ”€ Refresh leave history
   â”œâ”€ Show new leave with PENDING status
   â””â”€ Balance unchanged (until approved)
```

### Leave Approval Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  LEAVE APPROVAL PROCESS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin Dashboard
       â†“
Navigate to "Leave Requests" Tab
       â†“
Load Pending Leaves:
   GET /api/leaves
   â†“ Filter status = PENDING
       â†“
Display Pending Leaves:
   â”œâ”€ Employee Name: John Doe
   â”œâ”€ Leave Type: CASUAL
   â”œâ”€ Dates: 01-Apr-2025 â†’ 03-Apr-2025 (3 days)
   â”œâ”€ Reason: Personal
   â””â”€ [Approve] [Reject]
       â†“
Click "Approve"
       â†“
   POST /api/leaves/5/approve
   Body: {
     approverId: 2  // Admin's user ID
   }
       â†“
Backend Processing:
   â”œâ”€ Find leave (id=5): âœ… Found
   â”œâ”€ Status = PENDING? âœ…
   â”œâ”€ Find approver (id=2): âœ… Found (admin user)
   â”œâ”€ Update leave:
   â”‚  â”œâ”€ status = APPROVED
   â”‚  â”œâ”€ approvedBy = admin user object
   â”‚  â””â”€ reviewedAt = NOW
   â”œâ”€ Save leave
   â”œâ”€ Calculate days: 3
   â”œâ”€ Update balance:
   â”‚  â”œâ”€ casualLeavesUsed += 3 (0 â†’ 3)
   â”‚  â””â”€ casualLeavesRemaining -= 3 (10 â†’ 7)
   â””â”€ Save balance
       â†“
Response:
   LeaveDTO {
     status: "APPROVED",
     approvedBy: "admin",
     reviewedAt: "2026-01-21T14:30:00"
   }
       â†“
Frontend Toast:
   âœ… "Leave approved successfully!"
       â†“
Update Admin Dashboard:
   â”œâ”€ Remove from pending list
   â”œâ”€ Refresh pending count
   â””â”€ Update stats
       â†“
Employee Sees (Auto-update):
   â”œâ”€ Status changed: PENDING â†’ APPROVED âœ…
   â”œâ”€ Balance updated: Casual 10 â†’ 7
   â”œâ”€ "Approved By": admin (2026-01-21)
   â””â”€ Leave can be viewed in history
```

### Leave Rejection Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  LEAVE REJECTION PROCESS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin Dashboard
       â†“
See Pending Leave
       â†“
Click "Reject" Button
       â†“
Modal Opens:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Reject Leave Request        â”‚
   â”‚                              â”‚
   â”‚  [Textarea]                  â”‚
   â”‚  "Enter rejection reason..." â”‚
   â”‚                              â”‚
   â”‚  [Cancel]  [Reject]         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
Admin Types:
   "Insufficient team coverage"
       â†“
Click "Reject" Button
       â†“
Validation:
   â”œâ”€ Reason is not empty? âœ…
   â””â”€ Proceed
       â†“
   POST /api/leaves/5/reject
   Body: {
     approverId: 2,
     reason: "Insufficient team coverage"
   }
       â†“
Backend Processing:
   â”œâ”€ Find leave (id=5): âœ… Found
   â”œâ”€ Status = PENDING? âœ…
   â”œâ”€ Find approver (id=2): âœ… Found
   â”œâ”€ Update leave:
   â”‚  â”œâ”€ status = REJECTED
   â”‚  â”œâ”€ rejectionReason = "Insufficient team coverage"
   â”‚  â”œâ”€ approvedBy = admin user object
   â”‚  â””â”€ reviewedAt = NOW
   â”œâ”€ Save leave
   â”œâ”€ âš ï¸  DO NOT update balance (no days deducted)
   â””â”€ Leave saved with rejection
       â†“
Response:
   LeaveDTO {
     status: "REJECTED",
     rejectionReason: "Insufficient team coverage",
     approvedBy: "admin",
     reviewedAt: "2026-01-21T14:35:00"
   }
       â†“
Frontend Toast:
   âœ… "Leave rejected successfully!"
       â†“
Modal Closes
       â†“
Update Admin Dashboard:
   â”œâ”€ Remove from pending list
   â”œâ”€ Refresh pending count
   â””â”€ Update stats
       â†“
Employee Sees (Auto-update):
   â”œâ”€ Status changed: PENDING â†’ REJECTED âŒ
   â”œâ”€ Balance UNCHANGED: Casual stays at 10 âœ…
   â”œâ”€ "Approved By": admin (2026-01-21)
   â”œâ”€ Can see rejection reason (if shown)
   â””â”€ Leave appears in history as REJECTED
```

---

## ğŸ¯ Component Interaction Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      App.jsx                                    â”‚
â”‚                  (ToastContainer)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†• Router
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
           â†“                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Employee Route â”‚   â”‚  Admin Route   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“                     â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    EmployeeDashboard                â”‚
    â”‚  (Shows leave stats & history)      â”‚
    â”‚                                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Stat Cards (Balance Display)â”‚   â”‚
    â”‚  â”‚  - Total: 28                 â”‚   â”‚
    â”‚  â”‚  - Casual: 10                â”‚   â”‚
    â”‚  â”‚  - Sick: 6                   â”‚   â”‚
    â”‚  â”‚  - Earned: 12                â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚           â†“                         â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Recent Leave History Table  â”‚   â”‚
    â”‚  â”‚  Columns:                    â”‚   â”‚
    â”‚  â”‚  - Type                      â”‚   â”‚
    â”‚  â”‚  - Dates                     â”‚   â”‚
    â”‚  â”‚  - Status (colored)          â”‚   â”‚
    â”‚  â”‚  - Approved By â­            â”‚   â”‚
    â”‚  â”‚  - Actions                   â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚           â†“                         â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  "Request Leave" Button      â”‚   â”‚
    â”‚  â”‚  â†“ Opens LeaveRequestPage    â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  LeaveRequestPage      â”‚
    â”‚                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Balance Display  â”‚  â”‚
    â”‚  â”‚ Casual: X        â”‚  â”‚
    â”‚  â”‚ Sick: Y          â”‚  â”‚
    â”‚  â”‚ Earned: Z        â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚           â†“            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚  Form:           â”‚  â”‚
    â”‚  â”‚  - Leave Type    â”‚  â”‚
    â”‚  â”‚  - Start Date    â”‚  â”‚
    â”‚  â”‚  - End Date      â”‚  â”‚
    â”‚  â”‚  - Reason        â”‚  â”‚
    â”‚  â”‚  - Days (auto)   â”‚  â”‚
    â”‚  â”‚  - [Submit]      â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚           â†“            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚  Toast Error?    â”‚  â”‚
    â”‚  â”‚  (Insufficient)  â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚           â†“            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚  Toast Success?  â”‚  â”‚
    â”‚  â”‚  (Submitted)     â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    AdminDashboard                   â”‚
    â”‚  (Leave approval/rejection)         â”‚
    â”‚                                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Dashboard Tab               â”‚   â”‚
    â”‚  â”‚  - Stats (pending count)     â”‚   â”‚
    â”‚  â”‚  - Recent history table      â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚           â†“                         â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Leave Requests Tab          â”‚   â”‚
    â”‚  â”‚  - Pending leaves list       â”‚   â”‚
    â”‚  â”‚  - Each leave shows:         â”‚   â”‚
    â”‚  â”‚    â”œâ”€ Employee Name          â”‚   â”‚
    â”‚  â”‚    â”œâ”€ Leave Type             â”‚   â”‚
    â”‚  â”‚    â”œâ”€ Dates & Days           â”‚   â”‚
    â”‚  â”‚    â”œâ”€ Reason                 â”‚   â”‚
    â”‚  â”‚    â””â”€ [Approve] [Reject]    â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚           â†“                         â”‚
    â”‚  Click [Approve] â†’                  â”‚
    â”‚    POST /api/leaves/{id}/approve    â”‚
    â”‚      â†“ Success Toast               â”‚
    â”‚      â†“ Refresh List                â”‚
    â”‚      â†“ Employee Sees Update        â”‚
    â”‚                                     â”‚
    â”‚  Click [Reject] â†’                   â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚    â”‚  Reject Reason Modal     â”‚    â”‚
    â”‚    â”‚                          â”‚    â”‚
    â”‚    â”‚  [Textarea - reason]     â”‚    â”‚
    â”‚    â”‚  [Cancel]  [Reject]     â”‚    â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â”‚      â†“                             â”‚
    â”‚    POST /api/leaves/{id}/reject    â”‚
    â”‚      â†“ Success Toast               â”‚
    â”‚      â†“ Refresh List                â”‚
    â”‚      â†“ Employee Sees Update        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± UI Layout Reference

### Employee Dashboard View
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HRMS > Leave Management > Dashboard                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Leave Balance                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Total   â”‚ Casual   â”‚  Sick    â”‚ Earned   â”‚             â”‚
â”‚  â”‚    28    â”‚    10    â”‚    6     â”‚    12    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚  Recent Leave History                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Type â”‚ Dates        â”‚ Status â”‚ Appr. By â”‚ Actions    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚CASUALâ”‚01-Apr â†’ 03   â”‚APPROVEDâ”‚ admin    â”‚           â”‚ â”‚
â”‚  â”‚      â”‚              â”‚  âœ…    â”‚(20 Jan) â”‚            â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ SICK â”‚10-Apr â†’ 10   â”‚PENDING â”‚ -        â”‚ [Recall] â”‚ â”‚
â”‚  â”‚      â”‚              â”‚ â³     â”‚         â”‚          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚EARNEDâ”‚15-Apr â†’ 16   â”‚REJECTEDâ”‚ admin    â”‚           â”‚ â”‚
â”‚  â”‚      â”‚              â”‚  âŒ    â”‚(18 Jan) â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  [Request Leave Button]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Leave Request Form
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Request Leave                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Current Balance                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Casual: 10   â”‚  â”‚  Sick: 6     â”‚  â”‚ Earned: 12   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚  Leave Type:     [Casual â–¼]                                â”‚
â”‚                                                             â”‚
â”‚  Start Date:     [2025-04-01]                              â”‚
â”‚                                                             â”‚
â”‚  End Date:       [2025-04-03]                              â”‚
â”‚                                                             â”‚
â”‚  Days:           3 days                                    â”‚
â”‚                                                             â”‚
â”‚  Available:      10 days                                   â”‚
â”‚                                                             â”‚
â”‚  Reason:         [Personal leave for vacation...]         â”‚
â”‚                  [                                       ] â”‚
â”‚                                                             â”‚
â”‚  [Submit] [Cancel]                                          â”‚
â”‚                                                             â”‚
â”‚  âœ… Success: Leave request submitted!                      â”‚
â”‚  âŒ Error: Insufficient Casual leaves                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Approval Interface
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HRMS > Admin > Leave Requests                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Pending Leaves (4)                                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ John Doe                                    [Stats]  â”‚  â”‚
â”‚  â”‚ CASUAL â€¢ 01-Apr â†’ 03-Apr (3 days)                   â”‚  â”‚
â”‚  â”‚ Reason: Personal                                    â”‚  â”‚
â”‚  â”‚                    [Approve]  [Reject]             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Jane Smith                                  [Stats]  â”‚  â”‚
â”‚  â”‚ SICK â€¢ 10-Apr â†’ 11-Apr (2 days)                     â”‚  â”‚
â”‚  â”‚ Reason: Medical appointment                        â”‚  â”‚
â”‚  â”‚                    [Approve]  [Reject]             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  [More leaves...]                                           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Reject Leave Request                           â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚  Enter rejection reason:                        â”‚      â”‚
â”‚  â”‚  [Insufficient team coverage for that period  ] â”‚      â”‚
â”‚  â”‚  [                                            ] â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚        [Cancel]        [Reject]               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”‚  âœ… Success: Leave approved!                               â”‚
â”‚  âœ… Success: Leave rejected!                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LeaveRequestPage State                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ useState:                                          â”‚
â”‚  - formData: {leaveType, startDate, endDate, ...} â”‚
â”‚  - loading: boolean                                â”‚
â”‚  - employeeId: number                              â”‚
â”‚  - leaveBalance: {casual, sick, earned}            â”‚
â”‚                                                    â”‚
â”‚ useEffect:                                         â”‚
â”‚  - Fetch balance on mount                          â”‚
â”‚                                                    â”‚
â”‚ Functions:                                         â”‚
â”‚  - handleInputChange()                             â”‚
â”‚  - fetchLeaveBalance()                             â”‚
â”‚  - calculateLeaveDays()                            â”‚
â”‚  - handleSubmit()                                  â”‚
â”‚                                                    â”‚
â”‚ Toast Events:                                      â”‚
â”‚  - Error: Validation failed                        â”‚
â”‚  - Error: Insufficient balance                     â”‚
â”‚  - Success: Leave submitted                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       EmployeeDashboard State                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ useState:                                          â”‚
â”‚  - leaveBalance: {casual, sick, earned}            â”‚
â”‚  - recentLeaves: [{...leave}, ...]                 â”‚
â”‚  - loading: boolean                                â”‚
â”‚  - error: string                                   â”‚
â”‚                                                    â”‚
â”‚ useEffect:                                         â”‚
â”‚  - Fetch balance on mount                          â”‚
â”‚  - Fetch recent leaves on mount                    â”‚
â”‚                                                    â”‚
â”‚ Functions:                                         â”‚
â”‚  - fetchLeaveData()                                â”‚
â”‚  - getStatusColor()                                â”‚
â”‚  - formatDate()                                    â”‚
â”‚  - handleRecallLeave()                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        AdminDashboard State                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ useState:                                          â”‚
â”‚  - leaveRequests: [{...leave}, ...]                â”‚
â”‚  - pendingLeaves: [{...leave}, ...]                â”‚
â”‚  - loading: boolean                                â”‚
â”‚  - showRejectModal: boolean                        â”‚
â”‚  - rejectingLeaveId: number                        â”‚
â”‚  - rejectReason: string                            â”‚
â”‚  - currentUserId: number                           â”‚
â”‚  - stats: {totalEmployees, pendingLeaves, ...}    â”‚
â”‚                                                    â”‚
â”‚ useEffect:                                         â”‚
â”‚  - Get current user ID on mount                    â”‚
â”‚  - Fetch leave requests on mount                   â”‚
â”‚                                                    â”‚
â”‚ Functions:                                         â”‚
â”‚  - fetchLeaveRequests()                            â”‚
â”‚  - handleApprove(id)                               â”‚
â”‚  - handleRejectClick(id)                           â”‚
â”‚  - handleRejectConfirm()                           â”‚
â”‚  - getStatusColor()                                â”‚
â”‚  - formatDate()                                    â”‚
â”‚  - calculateLeaveDays()                            â”‚
â”‚                                                    â”‚
â”‚ Toast Events:                                      â”‚
â”‚  - Success: Leave approved                         â”‚
â”‚  - Success: Leave rejected                         â”‚
â”‚  - Error: API failures                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ API Request/Response Examples

### Create Leave Request
```
POST /api/leaves

Request Body:
{
  "employeeId": 1,
  "startDate": "2025-04-01",
  "endDate": "2025-04-03",
  "leaveType": "CASUAL",
  "reason": "Personal"
}

Response (200 OK):
{
  "message": "success",
  "data": {
    "id": 5,
    "employeeId": 1,
    "employeeName": "John Doe",
    "startDate": "2025-04-01",
    "endDate": "2025-04-03",
    "leaveType": "CASUAL",
    "reason": "Personal",
    "status": "PENDING",
    "approvedBy": null,
    "rejectionReason": null,
    "submittedAt": "2026-01-21T14:20:00",
    "reviewedAt": null
  }
}
```

### Approve Leave
```
POST /api/leaves/5/approve

Request Body:
{
  "approverId": 2
}

Response (200 OK):
{
  "message": "success",
  "data": {
    "id": 5,
    "status": "APPROVED",
    "approvedBy": "admin",
    "reviewedAt": "2026-01-21T14:30:00",
    ...
  }
}

Side Effects:
- LeaveBalance: casual_leaves_used: 0 â†’ 3
- LeaveBalance: Remaining recalculated
```

### Reject Leave
```
POST /api/leaves/5/reject

Request Body:
{
  "approverId": 2,
  "reason": "Insufficient team coverage"
}

Response (200 OK):
{
  "message": "success",
  "data": {
    "id": 5,
    "status": "REJECTED",
    "rejectionReason": "Insufficient team coverage",
    "approvedBy": "admin",
    "reviewedAt": "2026-01-21T14:35:00",
    ...
  }
}

Side Effects:
- LeaveBalance: UNCHANGED (no deduction)
```

---

**This completes the visual overview of the Leave Management System!**
